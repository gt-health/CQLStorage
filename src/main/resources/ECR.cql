library Retrieve2 version '1.0'  using FHIR version '3.0.0'  include FHIRHelpers version '3.0.0' called FHIRHelpers  codesystem \"SNOMED\": 'http://snomed.info/sct'  codesystem \"ICD9PROC\": 'http://hl7.org/fhir/sid/icd-9-proc'  codesystem \"LOINC\": 'http://loinc.org'  codesystem \"CPT\": 'http://www.ama-assn.org/go/cpt'  codesystem \"RxNorm\": 'http://www.nlm.nih.gov/research/umls/rxnorm'  codesystem \"ISBT\": 'urn:oid:2.16.840.1.113883.6.18'  valueset \"Chlamydia\": '2.16.840.1.113883.3.464.1003.112.12.1003'  define \"ISBTCodes\": Concept { Code 'E0316' from \"ISBT\" }  define \"Transfusion Procedures\": Concept { Code '99.04' from \"ICD9PROC\", Code '99.05' from \"ICD9PROC\" }  define \"Pregnancy Diagnoses\": Concept { Code '35633007' from \"SNOMED\", Code '42343007' from \"SNOMED\" }  define \"Anemia\": Concept { Code '267530009' from \"SNOMED\" }  define \"Pulse Oximetry\": Concept { Code '2710-2' from \"LOINC\", Code '59408-5' from \"LOINC\" }  define \"Relevant Labs\": Concept { Code '5902-2' from \"LOINC\", Code '4544-3' from \"LOINC\" }  define \"Chest XRay\": Concept { Code '71010' from \"CPT\", Code '71020' from \"CPT\", Code '71045' from \"CPT\" }  define \"Furosemide\": Concept { Code '282452' from \"RxNorm\" }  context Patient  define \"primarysourcereaction\": 'Transfusion-related circulatory overload' define \"reactionmeddrallt\": '10066174' define \"reactionmeddrapt\": '10066174'  define \"Pt\":    [Patient] Pt  define \"Chlamydia Diagnosis\":     [Condition:\"Chlamydia\"]  define \"19.Patient.ID\": \t \"Pt\".identifier[0].value  define \"20A.Patient.Name.given\": \t \"Pt\".name[0].given[0]  define \"20B.Patient.Name.family\":    \t \"Pt\".name[0].family  /* define \"21-22-23.Patient.Parents_Guardians\": \t [RelatedPersons] */  define \"24.Patient.Street_Address\":   \"Pt\".address[0]  define \"24.Patient.Birth_Date\":   \"Pt\".birthDate[0].value  define \"26.Patient.Sex\": \t \"Pt\".gender[0].value  define \"27.Patient.Class\": \t 'TBD'  define \"28.Patient.Race\": \t'TBD'  define \"29.Patient.Ethnicity\": \t'TBD'  define \"30.Patient.Preferred_Language\": \t\"Pt\".communication.language PtLang   /* such that PtLang.preferred=true*/  define \"31.Patient.Occupation\": \t'TBD'  define \"32.Patient.Pregnancy\": \t'TBD'  define \"33.Patient.Travel_History\": \t'TBD'  define \"EventIndexDateTime\":   [Condition:\"Chlamydia\"] ChlamydiaDx   return ChlamydiaDx.onset.start  define \"B5.MedDRAHeader.1\": 'The patient developed Transfusion Associated Cardiac Overload (MedDRA 10066174)'  define \"B5.ExposureHeader.2\": 'The patient received the following blood product:'  /* define \"Blood Transfusion Procedure\":   [Procedure: Code in \"Transfusion Procedures\"] Transfusions   return Transfusions.performed */    define \"TransfusionEvent\":     [DeviceUseStatement] BloodProduct     return BloodProduct  define \"Tranfusion Risk Window\":     Interval[\"EventIndexDateTime\",\"EventIndexDateTime\" + 24 hours]  define \"B5.DiagnosesHeader.3\": 'The patient had the following relevant data within 24 hours following the transfusion:'  define \"B5.Diagnoses.TACO.4\": [Condition: Code in \"Chlamydia\"] Dx     with \"Tranfusion Risk Window\" P     such that Dx.onset during day of P   return Dx  define \"B5.Procedures.CXR.4\": [Procedure: Code in \"Chest XRay\"] CXR with \"Tranfusion Risk Window\" P such that CXR.performed during day of P  define \"B5.Medications.Lasix.4\": [MedicationStatement: Code in \"Furosemide\"] Lasix with \"Tranfusion Risk Window\" P such that Lasix.effective.start during day of P   define \"B5.Observations.SpO2.4\": [Observation: Code in \"Pulse Oximetry\"] SpO2 with \"Tranfusion Risk Window\" P such that SpO2.effective during day of P  define \"B7.RelatedMedicalHistory.1\": 'The patient had the following relevant medical history:'  define \"B7.Diagnoses.Anemia.2\": [Condition: Code in \"Anemia\"] Dx   return Dx